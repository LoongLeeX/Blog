#!/bin/sh

# 指定允许的作者列表
ALLOWED_AUTHORS=("cuisiting@gmail.com" "author2@example.com" "author3@example.com")

# 获取当前提交的作者电子邮件
AUTHOR_EMAIL=$(git var GIT_AUTHOR_EMAIL)

# 检查作者是否在允许的列表中
if printf '%s\n' "${ALLOWED_AUTHORS[@]}" | grep -qx "$AUTHOR_EMAIL"; then
    echo "Author verified."
else
    echo "Error: Author '$AUTHOR_EMAIL' is not in the allowed list."
    exit 1
fi
